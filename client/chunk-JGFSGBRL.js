import{Ya as h,Za as d,_a as l,a as i,c as n,e as o,h as c,n as p,t as u,vb as a}from"./chunk-QUNHBVRW.js";var b=s=>{let t={code:"Unknown",message:s,status:0};if(s instanceof l&&(t.message=s.message||"",t.status=s.status||0,s.error?.error)){let e=s.error.error;t.message=e.message||"",t.code=e.code||"Unknown"}return t};var m=(s,t)=>n(u({next:e=>{let r=e;e instanceof d&&(r=e.body),e&&e.type!==h.Sent&&_debug(r,s,t)}})),U=s=>n(p(t=>{let e=b(t);return _debug(e,s,"e"),c(()=>e)}));var I=class{stateList=new o([]);stateList$=this.stateList.asObservable();constructor(t){t==="DEBUG"&&(this.stateList$=this.stateList$.pipe(m(this.constructor.name)))}get currentList(){return this.stateList.getValue()}SetList(t){return this.stateList.next(t),this.stateList$}appendList(t){return this.SetList([...this.currentList,...t])}emptyList(){this.stateList.next([])}addItem(t){this.stateList.next([...this.currentList,t])}prependItem(t){this.stateList.next([t,...this.currentList])}editItem(t){let e=[...this.currentList],r=e.findIndex(L=>L.id===t.id);r>-1&&(e[r]=a(t),this.stateList.next(e))}removeItem(t){this.stateList.next(this.currentList.filter(e=>e.id!==t.id))}},g=class{stateItem=new o(null);stateItem$=this.stateItem.asObservable();constructor(t){t||(this.stateItem$=this.stateItem$.pipe(m(this.constructor.name)))}get currentItem(){return this.stateItem.getValue()}SetState(t){return this.stateItem.next(t),this.stateItem$}UpdateState(t){let e=i(i({},this.currentItem),a(t));return this.stateItem.next(e),this.stateItem$}RemoveState(){this.stateItem.next(null)}};export{m as a,U as b,I as c,g as d};
